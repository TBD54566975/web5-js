## API Report File for "@web5/api"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="readable-stream" />

import type { AppDataStore } from '@web5/agent';
import type { DidResolutionOptions } from '@web5/dids';
import type { DidResolutionResult } from '@web5/dids';
import { DwnInterfaceName } from '@tbd54566975/dwn-sdk-js';
import { DwnMethodName } from '@tbd54566975/dwn-sdk-js';
import { ProtocolDefinition } from '@tbd54566975/dwn-sdk-js';
import type { ProtocolsConfigure } from '@tbd54566975/dwn-sdk-js';
import type { ProtocolsConfigureDescriptor } from '@tbd54566975/dwn-sdk-js';
import { ProtocolsConfigureMessage as ProtocolsConfigureMessage_2 } from '@tbd54566975/dwn-sdk-js';
import type { ProtocolsConfigureOptions } from '@tbd54566975/dwn-sdk-js';
import type { ProtocolsQueryOptions } from '@tbd54566975/dwn-sdk-js';
import type { Readable } from '@web5/common';
import type { RecordsDeleteOptions } from '@tbd54566975/dwn-sdk-js';
import type { RecordsQueryOptions } from '@tbd54566975/dwn-sdk-js';
import type { RecordsReadOptions } from '@tbd54566975/dwn-sdk-js';
import type { RecordsWriteDescriptor } from '@tbd54566975/dwn-sdk-js';
import type { RecordsWriteMessage } from '@tbd54566975/dwn-sdk-js';
import type { RecordsWriteOptions } from '@tbd54566975/dwn-sdk-js';
import type { Web5Agent } from '@web5/agent';

// @beta
const dataToBlob: (data: any, dataFormat?: string) => {
    dataBlob: Blob;
    dataFormat: string;
};

// @beta
export class DidApi {
    constructor(options: {
        agent: Web5Agent;
        connectedDid: string;
    });
    resolve(didUrl: string, resolutionOptions?: DidResolutionOptions): Promise<DidResolutionResult>;
}

// @beta
export class DwnApi {
    constructor(options: {
        agent: Web5Agent;
        connectedDid: string;
    });
    get protocols(): {
        configure: (request: ProtocolsConfigureRequest) => Promise<ProtocolsConfigureResponse>;
        query: (request: ProtocolsQueryRequest) => Promise<ProtocolsQueryResponse>;
    };
    get records(): {
        create: (request: RecordsCreateRequest) => Promise<RecordsCreateResponse>;
        createFrom: (request: RecordsCreateFromRequest) => Promise<RecordsWriteResponse>;
        delete: (request: RecordsDeleteRequest) => Promise<ResponseStatus>;
        query: (request: RecordsQueryRequest) => Promise<RecordsQueryResponse>;
        read: (request: RecordsReadRequest) => Promise<RecordsReadResponse>;
        write: (request: RecordsWriteRequest) => Promise<RecordsWriteResponse>;
    };
}

// @beta
export function getTechPreviewDwnEndpoints(): Promise<string[]>;

// @beta
export class Protocol {
    // Warning: (ae-forgotten-export) The symbol "ProtocolMetadata" needs to be exported by the entry point index.d.ts
    constructor(agent: Web5Agent, protocolsConfigureMessage: ProtocolsConfigureMessage, metadata: ProtocolMetadata);
    get definition(): ProtocolDefinition;
    send(target: string): Promise<{
        status: {
            code: number;
            detail: string;
        };
    }>;
    toJSON(): ProtocolsConfigureMessage_2;
}

// @beta
export type ProtocolsConfigureMessage = ProtocolsConfigure['message'];

// @beta
export type ProtocolsConfigureRequest = {
    message: Omit<ProtocolsConfigureOptions, 'signer'>;
};

// @beta
export type ProtocolsConfigureResponse = ResponseStatus & {
    protocol?: Protocol;
};

// @beta
export type ProtocolsQueryReplyEntry = {
    descriptor: ProtocolsConfigureDescriptor;
};

// @beta
export type ProtocolsQueryRequest = {
    from?: string;
    message: Omit<ProtocolsQueryOptions, 'signer'>;
};

// @beta
export type ProtocolsQueryResponse = ResponseStatus & {
    protocols: Protocol[];
};

// @beta
class Record_2 implements RecordModel {
    constructor(agent: Web5Agent, options: RecordOptions);
    get attestation(): RecordsWriteMessage['attestation'];
    get author(): string;
    get authorization(): RecordsWriteMessage['authorization'];
    get contextId(): string;
    get data(): {
        blob(): Promise<Blob>;
        bytes(): Promise<Uint8Array>;
        json(): Promise<any>;
        text(): Promise<string>;
        stream(): Promise<Readable>;
        then(...callbacks: any[]): any;
        catch(callback: any): any;
    };
    get dataCid(): string;
    get dataFormat(): string;
    get dataSize(): number;
    get dateCreated(): string;
    get dateModified(): string;
    get datePublished(): string;
    get encryption(): RecordsWriteMessage['encryption'];
    get id(): string;
    import(store?: boolean): Promise<ResponseStatus>;
    get initialWrite(): RecordOptions['initialWrite'];
    get interface(): DwnInterfaceName.Records;
    get messageTimestamp(): string;
    get method(): DwnMethodName.Write;
    get parentId(): string;
    get protocol(): string;
    get protocolPath(): string;
    get protocolRole(): string;
    get published(): boolean;
    get recipient(): string;
    get schema(): string;
    send(target?: string): Promise<ResponseStatus>;
    store(importRecord?: boolean): Promise<ResponseStatus>;
    toJSON(): RecordModel;
    toString(): string;
    update(options?: RecordUpdateOptions): Promise<ResponseStatus>;
}
export { Record_2 as Record }

// @beta
export type RecordModel = RecordsWriteDescriptor & Omit<RecordsWriteMessage, 'descriptor' | 'recordId'> & {
    author: string;
    protocolRole?: RecordOptions['protocolRole'];
    recordId?: string;
};

// @beta
export type RecordOptions = RecordsWriteMessage & {
    author: string;
    connectedDid: string;
    encodedData?: string | Blob;
    data?: Readable | ReadableStream;
    initialWrite?: RecordsWriteMessage;
    protocolRole?: string;
    remoteOrigin?: string;
};

// @beta
export type RecordsCreateFromRequest = {
    author: string;
    data: unknown;
    message?: Omit<RecordsWriteOptions, 'signer'>;
    record: Record_2;
};

// @beta
export type RecordsCreateRequest = RecordsWriteRequest;

// @beta
export type RecordsCreateResponse = RecordsWriteResponse;

// @beta
export type RecordsDeleteRequest = {
    from?: string;
    message: Omit<RecordsDeleteOptions, 'signer'>;
};

// @beta
export type RecordsQueryRequest = {
    from?: string;
    message: Omit<RecordsQueryOptions, 'signer'>;
};

// @beta
export type RecordsQueryResponse = ResponseStatus & {
    records?: Record_2[];
    cursor?: string;
};

// @beta
export type RecordsReadRequest = {
    from?: string;
    message: Omit<RecordsReadOptions, 'signer'>;
};

// @beta
export type RecordsReadResponse = ResponseStatus & {
    record: Record_2;
};

// @beta
export type RecordsWriteRequest = {
    data: unknown;
    message?: Omit<Partial<RecordsWriteOptions>, 'signer'>;
    store?: boolean;
};

// @beta
export type RecordsWriteResponse = ResponseStatus & {
    record?: Record_2;
};

// @beta
export type RecordUpdateOptions = {
    data?: unknown;
    dataCid?: RecordsWriteDescriptor['dataCid'];
    dataSize?: RecordsWriteDescriptor['dataSize'];
    dateModified?: RecordsWriteDescriptor['messageTimestamp'];
    datePublished?: RecordsWriteDescriptor['datePublished'];
    published?: RecordsWriteDescriptor['published'];
    protocolRole?: RecordOptions['protocolRole'];
};

// @beta
export type ResponseStatus = {
    status: {
        code: number;
        detail: string;
    };
};

// @beta
export type TechPreviewOptions = {
    dwnEndpoints?: string[];
};

declare namespace utils {
    export {
        dataToBlob
    }
}
export { utils }

// @beta
export class VcApi {
    constructor(options: {
        agent: Web5Agent;
        connectedDid: string;
    });
    create(): Promise<void>;
}

// @beta
export class Web5 {
    // Warning: (ae-forgotten-export) The symbol "Web5Options" needs to be exported by the entry point index.d.ts
    constructor(options: Web5Options);
    agent: Web5Agent;
    static connect(options?: Web5ConnectOptions): Promise<{
        web5: Web5;
        did: string;
    }>;
    did: DidApi;
    dwn: DwnApi;
    vc: VcApi;
}

// @beta
export type Web5ConnectOptions = {
    agent?: Web5Agent;
    appData?: AppDataStore;
    connectedDid?: string;
    sync?: string;
    techPreview?: TechPreviewOptions;
};

```

## API Report File for "@web5/agent"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { CryptoAlgorithm } from '@web5/crypto';
import { CryptoKey as CryptoKey_2 } from '@web5/crypto';
import { DataStoreLevel } from '@tbd54566975/dwn-sdk-js';
import type { DidIonCreateOptions } from '@web5/dids';
import type { DidKeyCreateOptions } from '@web5/dids';
import type { DidMetadata } from '@web5/dids';
import type { DidMethodApi } from '@web5/dids';
import type { DidResolutionOptions } from '@web5/dids';
import type { DidResolutionResult } from '@web5/dids';
import { DidResolver } from '@web5/dids';
import type { DidResolverCache } from '@web5/dids';
import { Dwn } from '@tbd54566975/dwn-sdk-js';
import { EventLogLevel } from '@tbd54566975/dwn-sdk-js';
import { EventsGet } from '@tbd54566975/dwn-sdk-js';
import type { EventsGetMessage } from '@tbd54566975/dwn-sdk-js';
import { GenericMessage } from '@tbd54566975/dwn-sdk-js';
import type { JsonWebKey as JsonWebKey_2 } from '@web5/crypto';
import type { KeyValueStore } from '@web5/common';
import { Level } from 'level';
import { MessagesGet } from '@tbd54566975/dwn-sdk-js';
import type { MessagesGetMessage } from '@tbd54566975/dwn-sdk-js';
import { MessageStoreLevel } from '@tbd54566975/dwn-sdk-js';
import type { PortableDid } from '@web5/dids';
import { ProtocolsConfigure } from '@tbd54566975/dwn-sdk-js';
import type { ProtocolsConfigureMessage } from '@tbd54566975/dwn-sdk-js';
import { ProtocolsQuery } from '@tbd54566975/dwn-sdk-js';
import type { ProtocolsQueryMessage } from '@tbd54566975/dwn-sdk-js';
import { Readable } from 'readable-stream';
import { ReadableWebToNodeStream } from 'readable-web-to-node-stream';
import { RecordsDelete } from '@tbd54566975/dwn-sdk-js';
import type { RecordsDeleteMessage } from '@tbd54566975/dwn-sdk-js';
import { RecordsQuery } from '@tbd54566975/dwn-sdk-js';
import type { RecordsQueryMessage } from '@tbd54566975/dwn-sdk-js';
import { RecordsRead } from '@tbd54566975/dwn-sdk-js';
import { RecordsWrite } from '@tbd54566975/dwn-sdk-js';
import { RecordsWriteMessage } from '@tbd54566975/dwn-sdk-js';
import { RequireOnly } from '@web5/common';
import { UnionMessageReply } from '@tbd54566975/dwn-sdk-js';
import type { Web5Crypto } from '@web5/crypto';

// @public (undocumented)
export type AlgorithmImplementation = typeof CryptoAlgorithm & {
    new (): CryptoAlgorithm;
};

// @public (undocumented)
export type AlgorithmImplementations = {
    [algorithmName: string]: AlgorithmImplementation;
};

// @public (undocumented)
export type AppData = {
    [key: string]: any;
};

// @public (undocumented)
export type AppDataBackup = {
    dateCreated: string;
    size: number;
    data: string;
};

// @public (undocumented)
export type AppDataStatus = {
    initialized: boolean;
    lastBackup: string | undefined;
    lastRestore: string | undefined;
};

// @public (undocumented)
export interface AppDataStore {
    backup(options: {
        passphrase: string;
    }): Promise<AppDataBackup>;
    changePassphrase(options: {
        oldPassphrase: string;
        newPassphrase: string;
    }): Promise<boolean>;
    getDid(): Promise<string>;
    getPrivateKey(): Promise<Web5Crypto.CryptoKey>;
    getPublicKey(): Promise<Web5Crypto.CryptoKey>;
    getStatus(): Promise<AppDataStatus>;
    initialize(options: {
        passphrase: string;
        keyPair: Web5Crypto.CryptoKeyPair;
    }): Promise<void>;
    lock(): Promise<void>;
    restore(options: {
        backup: AppDataBackup;
        passphrase: string;
    }): Promise<boolean>;
    unlock(options: {
        passphrase: string;
    }): Promise<boolean>;
}

// @public (undocumented)
export class AppDataVault implements AppDataStore {
    constructor(options?: AppDataVaultOptions);
    // (undocumented)
    backup(_options: {
        passphrase: string;
    }): Promise<AppDataBackup>;
    // (undocumented)
    changePassphrase(_options: {
        oldPassphrase: string;
        newPassphrase: string;
    }): Promise<boolean>;
    // (undocumented)
    getDid(): Promise<string>;
    // (undocumented)
    getPrivateKey(): Promise<Web5Crypto.CryptoKey>;
    // (undocumented)
    getPublicKey(): Promise<CryptoKey_2>;
    // (undocumented)
    getStatus(): Promise<AppDataStatus>;
    // (undocumented)
    initialize(options: {
        keyPair: Web5Crypto.CryptoKeyPair;
        passphrase: string;
    }): Promise<void>;
    // (undocumented)
    lock(): Promise<void>;
    // (undocumented)
    restore(_options: {
        backup: AppDataBackup;
        passphrase: string;
    }): Promise<boolean>;
    // (undocumented)
    setStatus(options: Partial<AppDataStatus>): Promise<boolean>;
    // (undocumented)
    unlock(options: {
        passphrase: string;
    }): Promise<boolean>;
}

// @public (undocumented)
export type AppDataVaultOptions = {
    keyDerivationWorkFactor?: number;
    store?: KeyValueStore<string, any>;
};

// @public (undocumented)
export function blobToIsomorphicNodeReadable(blob: Blob): Readable;

// @public (undocumented)
export type CreateDidMethodOptions = {
    ion: DidIonCreateOptions;
    key: DidKeyCreateOptions;
};

// @public (undocumented)
export type CreateDidOptions<M extends keyof CreateDidMethodOptions> = CreateDidMethodOptions[M] & {
    method: M;
    alias?: string;
    context?: string;
    kms?: string;
    metadata?: DidMetadata;
};

// @public (undocumented)
export type CreateIdentityOptions = {
    did?: PortableDid;
    didMethod?: any;
    didOptions?: any;
    context?: string;
    kms?: string;
    name: string;
};

// @public (undocumented)
export const createJsonRpcErrorResponse: (id: JsonRpcId, code: JsonRpcErrorCodes, message: string, data?: any) => JsonRpcErrorResponse;

// @public (undocumented)
export const createJsonRpcNotification: (method: string, params?: JsonRpcParams) => JsonRpcRequest;

// @public (undocumented)
export const createJsonRpcRequest: (id: JsonRpcId, method: string, params?: JsonRpcParams) => JsonRpcRequest;

// @public (undocumented)
export const createJsonRpcSuccessResponse: (id: JsonRpcId, result?: any) => JsonRpcSuccessResponse;

// @public (undocumented)
export interface CryptoManager {
    // (undocumented)
    agent: Web5ManagedAgent;
    // (undocumented)
    decrypt(options: DecryptOptions): Promise<Uint8Array>;
    // (undocumented)
    deriveBits(options: DeriveBitsOptions): Promise<Uint8Array>;
    // (undocumented)
    encrypt(options: EncryptOptions): Promise<Uint8Array>;
    generateKey<T extends GenerateKeyOptionTypes>(options: GenerateKeyOptions<T>): Promise<GenerateKeyType<T>>;
    getKey(options: {
        keyRef: string;
    }): Promise<ManagedKey | ManagedKeyPair | undefined>;
    // (undocumented)
    importKey(options: PortableKeyPair): Promise<ManagedKeyPair>;
    // (undocumented)
    importKey(options: PortableKey): Promise<ManagedKey>;
    // (undocumented)
    importKey(options: ImportKeyOptions): Promise<ManagedKey | ManagedKeyPair>;
    // (undocumented)
    sign(options: SignOptions): Promise<Uint8Array>;
    // (undocumented)
    updateKey(options: UpdateKeyOptions): Promise<boolean>;
    // (undocumented)
    verify(options: VerifyOptions): Promise<boolean>;
}

// @public (undocumented)
export function cryptoToManagedKey(options: {
    cryptoKey: Web5Crypto.CryptoKey;
    keyData: RequireOnly<ManagedKey, 'kms'>;
}): ManagedKey;

// @public (undocumented)
export function cryptoToManagedKeyPair(options: {
    cryptoKeyPair: Web5Crypto.CryptoKeyPair;
    keyData: RequireOnly<ManagedKey, 'kms' | 'state'>;
}): ManagedKeyPair;

// @public (undocumented)
export function cryptoToPortableKey(options: {
    cryptoKey: Web5Crypto.CryptoKey;
    keyData: RequireOnly<ManagedKey, 'kms'>;
}): PortableKey;

// @public (undocumented)
export function cryptoToPortableKeyPair(options: {
    cryptoKeyPair: Web5Crypto.CryptoKeyPair;
    keyData: RequireOnly<ManagedKey, 'kms'>;
}): PortableKeyPair;

// @public
export type DecryptOptions = {
    algorithm: Web5Crypto.AlgorithmIdentifier | Web5Crypto.AesCtrOptions | Web5Crypto.AesGcmOptions;
    data: Uint8Array;
    keyRef: string;
};

// @public (undocumented)
export const defaultAlgorithms: AlgorithmImplementations;

// @public
export type DeriveBitsOptions = {
    algorithm: Web5Crypto.AlgorithmIdentifier | Web5Crypto.EcdhDeriveKeyOptions | Web5Crypto.Pbkdf2Options;
    baseKeyRef: string;
    length?: number;
};

// @public (undocumented)
export type DidCreateMessage = {
    didMethod: string;
    didOptions?: any;
};

// @public (undocumented)
export type DidIonGenerateKeySetOptions = {};

// @public (undocumented)
export type DidKeyGenerateKeySetOptions = {};

// @public (undocumented)
export class DidManager {
    constructor(options: DidManagerOptions);
    get agent(): Web5ManagedAgent;
    set agent(agent: Web5ManagedAgent);
    // (undocumented)
    create<M extends keyof CreateDidMethodOptions>(options: CreateDidOptions<M>): Promise<ManagedDid>;
    // (undocumented)
    get(options: {
        didRef: string;
        context?: string;
    }): Promise<ManagedDid | undefined>;
    // (undocumented)
    getDefaultSigningKey(options: {
        did: string;
    }): Promise<string | undefined>;
    // (undocumented)
    import(options: ImportDidOptions): Promise<ManagedDid>;
    // (undocumented)
    processRequest(request: DidRequest): Promise<DidResponse>;
}

// @public (undocumented)
export type DidManagerOptions = {
    agent?: Web5ManagedAgent;
    didMethods: DidMethodApi[];
    store?: ManagedDidStore;
};

// @public (undocumented)
export enum DidMessage {
    // (undocumented)
    Create = "Create",
    // (undocumented)
    Resolve = "Resolve"
}

// @public
export type DidMessageType = keyof typeof DidMessage;

// @public (undocumented)
export type DidRequest = {
    messageType: DidMessageType;
    messageOptions: any;
    store?: boolean;
};

// @public (undocumented)
export type DidResolveMessage = {
    didUrl: string;
    resolutionOptions?: DidResolutionOptions;
};

// @public (undocumented)
export type DidResponse = {
    result?: DidResolutionResult | PortableDid;
};

// @public (undocumented)
export interface DidRpc {
    // (undocumented)
    sendDidRequest(request: DidRpcRequest): Promise<DidRpcResponse>;
    // (undocumented)
    get transportProtocols(): string[];
}

// @public (undocumented)
export enum DidRpcMethod {
    // (undocumented)
    Create = "did.create",
    // (undocumented)
    Resolve = "did.resolve"
}

// @public (undocumented)
export type DidRpcRequest = {
    data: string;
    method: DidRpcMethod;
    url: string;
};

// @public (undocumented)
export type DidRpcResponse = {
    data?: string;
    ok: boolean;
    status: RpcStatus;
};

// @public (undocumented)
export class DidStoreDwn implements ManagedDidStore {
    // (undocumented)
    deleteDid(options: {
        agent: Web5ManagedAgent;
        context?: string;
        did: string;
    }): Promise<boolean>;
    // (undocumented)
    findDid(options: {
        agent: Web5ManagedAgent;
        context?: string;
        did: string;
    }): Promise<ManagedDid | undefined>;
    // (undocumented)
    findDid(options: {
        agent: Web5ManagedAgent;
        context?: string;
        alias: string;
    }): Promise<ManagedDid | undefined>;
    // (undocumented)
    getDid(options: {
        agent: Web5ManagedAgent;
        context?: string;
        did: string;
    }): Promise<ManagedDid | undefined>;
    // (undocumented)
    importDid(options: {
        agent: Web5ManagedAgent;
        context?: string;
        did: ManagedDid;
    }): Promise<void>;
    // (undocumented)
    listDids(options: {
        agent: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedDid[]>;
}

// @public (undocumented)
export class DidStoreMemory implements ManagedDidStore {
    // (undocumented)
    deleteDid({ did }: {
        did: string;
    }): Promise<boolean>;
    // (undocumented)
    findDid(options: {
        did: string;
    }): Promise<ManagedDid | undefined>;
    // (undocumented)
    findDid(options: {
        alias: string;
    }): Promise<ManagedDid | undefined>;
    // (undocumented)
    getDid({ did }: {
        did: string;
    }): Promise<ManagedDid | undefined>;
    // (undocumented)
    importDid(options: {
        did: ManagedDid;
    }): Promise<void>;
    // (undocumented)
    listDids(): Promise<ManagedDid[]>;
}

// @public (undocumented)
export class DwnManager {
    constructor(options: DwnManagerOptions);
    get agent(): Web5ManagedAgent;
    set agent(agent: Web5ManagedAgent);
    // (undocumented)
    static create(options?: DwnManagerCreateOptions): Promise<DwnManager>;
    createMessage(options: {
        author: string;
        messageOptions: unknown;
        messageType: string;
    }): Promise<EventsGet | MessagesGet | RecordsRead | RecordsQuery | RecordsWrite | RecordsDelete | ProtocolsQuery | ProtocolsConfigure>;
    // (undocumented)
    get dwn(): Dwn;
    // (undocumented)
    processMessage(options: {
        targetDid: string;
        message: GenericMessage;
        dataStream?: Readable;
    }): Promise<UnionMessageReply>;
    // (undocumented)
    processRequest(request: ProcessDwnRequest): Promise<DwnResponse>;
    // (undocumented)
    sendRequest(request: SendDwnRequest): Promise<DwnResponse>;
    // Warning: (ae-forgotten-export) The symbol "GenericMessageReply" needs to be exported by the entry point index.d.ts
    writePrunedRecord(options: {
        targetDid: string;
        message: RecordsWriteMessage;
    }): Promise<GenericMessageReply>;
}

// @public (undocumented)
export type DwnManagerCreateOptions = {
    agent?: Web5ManagedAgent;
    dataPath?: string;
    didResolver?: DidResolver;
    dwn?: Dwn;
};

// @public (undocumented)
export type DwnManagerOptions = {
    agent?: Web5ManagedAgent;
    dwn: Dwn;
};

// @public
export type DwnMessages = {
    'EventsGet': EventsGetMessage;
    'MessagesGet': MessagesGetMessage;
    'RecordsWrite': RecordsWriteMessage;
    'RecordsQuery': RecordsQueryMessage;
    'RecordsDelete': RecordsDeleteMessage;
    'ProtocolsQuery': ProtocolsQueryMessage;
    'ProtocolsConfigure': ProtocolsConfigureMessage;
};

// @public (undocumented)
export type DwnMessageType = keyof DwnMessages;

// @public (undocumented)
export type DwnRequest = {
    author: string;
    target: string;
    messageType: string;
};

// @public
export type DwnResponse = {
    message?: unknown;
    messageCid?: string;
    reply: UnionMessageReply;
};

// @public
export interface DwnRpc {
    sendDwnRequest(request: DwnRpcRequest): Promise<DwnRpcResponse>;
    get transportProtocols(): string[];
}

// @public
export type DwnRpcRequest = {
    data?: any;
    dwnUrl: string;
    message: SerializableDwnMessage | any;
    targetDid: string;
};

// @public
export type DwnRpcResponse = UnionMessageReply;

// @public
export type EncryptOptions = {
    algorithm: Web5Crypto.AlgorithmIdentifier | Web5Crypto.AesCtrOptions | Web5Crypto.AesGcmOptions;
    data: Uint8Array;
    keyRef: string;
};

// @public (undocumented)
export type GeneralJws = {
    payload: string;
    signatures: SignatureEntry[];
};

// @public (undocumented)
export type GenerateKeyOptions<T extends GenerateKeyOptionTypes> = {
    algorithm: T;
    alias?: string;
    extractable?: boolean;
    keyUsages: Web5Crypto.KeyUsage[];
    metadata?: KeyMetadata;
};

// @public (undocumented)
export type GenerateKeyOptionTypes = Web5Crypto.AlgorithmIdentifier | Web5Crypto.AesGenerateKeyOptions | Web5Crypto.EcdsaGenerateKeyOptions | Web5Crypto.EdDsaGenerateKeyOptions;

// @public (undocumented)
export type GenerateKeySetOptions = {
    ion: DidIonGenerateKeySetOptions;
    key: DidKeyGenerateKeySetOptions;
};

// @public (undocumented)
export type GenerateKeyType<T> = T extends Web5Crypto.EcGenerateKeyOptions ? ManagedKeyPair : T extends Web5Crypto.AesGenerateKeyOptions ? ManagedKey : T extends Web5Crypto.AlgorithmIdentifier ? ManagedKey | ManagedKeyPair : never;

// @public (undocumented)
export class IdentityManager {
    constructor(options?: IdentityManagerOptions);
    get agent(): Web5ManagedAgent;
    set agent(agent: Web5ManagedAgent);
    // Warning: (ae-forgotten-export) The symbol "DidMethod" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "CreateWithDidMethod" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    create<M extends DidMethod>(options: CreateWithDidMethod<M>): Promise<ManagedIdentity>;
    // Warning: (ae-forgotten-export) The symbol "CreateWithDid" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    create(options: CreateWithDid): Promise<ManagedIdentity>;
    // (undocumented)
    get(options: {
        did: string;
        context?: string;
    }): Promise<ManagedIdentity | undefined>;
    // (undocumented)
    import(options: ImportIdentityOptions): Promise<ManagedIdentity>;
    // (undocumented)
    list(options?: {
        context?: string;
    }): Promise<ManagedIdentity[]>;
}

// @public (undocumented)
export type IdentityManagerOptions = {
    agent?: Web5ManagedAgent;
    store?: ManagedIdentityStore;
};

// @public (undocumented)
export class IdentityStoreDwn implements ManagedIdentityStore {
    // (undocumented)
    deleteIdentity(options: {
        agent: Web5ManagedAgent;
        context?: string;
        did: string;
    }): Promise<boolean>;
    // (undocumented)
    getIdentity(options: {
        agent: Web5ManagedAgent;
        context?: string;
        did: string;
    }): Promise<ManagedIdentity | undefined>;
    // (undocumented)
    importIdentity(options: {
        agent: Web5ManagedAgent;
        context?: string;
        identity: ManagedIdentity;
    }): Promise<void>;
    // (undocumented)
    listIdentities(options: {
        agent: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedIdentity[]>;
}

// @public (undocumented)
export class IdentityStoreMemory implements ManagedIdentityStore {
    // (undocumented)
    deleteIdentity({ did }: {
        did: string;
    }): Promise<boolean>;
    // (undocumented)
    getIdentity({ did }: {
        did: string;
    }): Promise<ManagedIdentity | undefined>;
    // (undocumented)
    importIdentity(options: {
        identity: ManagedIdentity;
    }): Promise<void>;
    // (undocumented)
    listIdentities(): Promise<ManagedIdentity[]>;
}

// @public (undocumented)
export type ImportDidOptions = {
    alias?: string;
    context?: string;
    did: PortableDid;
    kms?: string;
};

// @public (undocumented)
export type ImportIdentityOptions = {
    context?: string;
    did?: PortableDid;
    identity: ManagedIdentity;
    kms?: string;
};

// @public (undocumented)
export type ImportKeyOptions = PortableKey | PortableKeyPair;

// @public
export function isManagedKey(key: ManagedKey | ManagedKeyPair | undefined): key is ManagedKey;

// @public
export function isManagedKeyPair(key: ManagedKey | ManagedKeyPair | undefined): key is ManagedKeyPair;

// @public (undocumented)
export interface JsonRpcError {
    // (undocumented)
    code: JsonRpcErrorCodes;
    // (undocumented)
    data?: any;
    // (undocumented)
    message: string;
}

// @public (undocumented)
export enum JsonRpcErrorCodes {
    // (undocumented)
    BadRequest = -50400,
    // (undocumented)
    Forbidden = -50403,
    // (undocumented)
    InternalError = -32603,
    // (undocumented)
    InvalidParams = -32602,
    // (undocumented)
    InvalidRequest = -32600,
    // (undocumented)
    MethodNotFound = -32601,
    // (undocumented)
    ParseError = -32700,
    // (undocumented)
    TransportError = -32300,
    // (undocumented)
    Unauthorized = -50401
}

// @public (undocumented)
export interface JsonRpcErrorResponse {
    // (undocumented)
    error: JsonRpcError;
    // (undocumented)
    id: JsonRpcId;
    // (undocumented)
    jsonrpc: JsonRpcVersion;
    // (undocumented)
    result?: never;
}

// @public (undocumented)
export type JsonRpcId = string | number | null;

// @public (undocumented)
export type JsonRpcParams = any;

// @public (undocumented)
export interface JsonRpcRequest {
    // (undocumented)
    id?: JsonRpcId;
    // (undocumented)
    jsonrpc: JsonRpcVersion;
    // (undocumented)
    method: string;
    // (undocumented)
    params?: any;
}

// @public (undocumented)
export type JsonRpcResponse = JsonRpcSuccessResponse | JsonRpcErrorResponse;

// @public (undocumented)
export interface JsonRpcSuccessResponse {
    // (undocumented)
    error?: never;
    // (undocumented)
    id: JsonRpcId;
    // (undocumented)
    jsonrpc: JsonRpcVersion;
    // (undocumented)
    result: any;
}

// @public (undocumented)
export type JsonRpcVersion = '2.0';

// @public
export type KeyManagementSystem = CryptoManager;

// @public
export class KeyManager implements CryptoManager {
    constructor(options?: KeyManagerOptions);
    get agent(): Web5ManagedAgent;
    set agent(agent: Web5ManagedAgent);
    // (undocumented)
    decrypt(options: DecryptOptions): Promise<Uint8Array>;
    // (undocumented)
    deriveBits(options: DeriveBitsOptions): Promise<Uint8Array>;
    // (undocumented)
    encrypt(options: EncryptOptions): Promise<Uint8Array>;
    // (undocumented)
    generateKey<T extends GenerateKeyOptionTypes>(options: GenerateKeyOptions<T> & {
        kms?: string;
    }): Promise<GenerateKeyType<T>>;
    // (undocumented)
    getKey({ keyRef }: {
        keyRef: string;
    }): Promise<ManagedKey | ManagedKeyPair | undefined>;
    // (undocumented)
    importKey(options: PortableKeyPair): Promise<ManagedKeyPair>;
    // (undocumented)
    importKey(options: PortableKey): Promise<ManagedKey>;
    // (undocumented)
    listKms(): string[];
    // (undocumented)
    setDefaultSigningKey({ key }: {
        key: PortableKeyPair;
    }): Promise<void>;
    // (undocumented)
    sign(options: SignOptions): Promise<Uint8Array>;
    // (undocumented)
    updateKey(options: UpdateKeyOptions): Promise<boolean>;
    // (undocumented)
    verify(options: VerifyOptions): Promise<boolean>;
}

// @public (undocumented)
export type KeyManagerOptions = {
    agent?: Web5ManagedAgent;
    kms?: KmsMap;
    store?: ManagedKeyStore<string, ManagedKey | ManagedKeyPair>;
};

// @public
export type KeyMetadata = {
    [key: string]: any;
};

// @public
export type KeyState = 'Enabled' | 'Disabled' | 'PendingCreation' | 'PendingDeletion' | 'PendingImport' | 'PendingUpdate';

// @public
export class KeyStoreDwn implements ManagedKeyStore<string, ManagedKey | ManagedKeyPair> {
    constructor(options?: {
        schema: string;
    });
    // (undocumented)
    deleteKey(options: {
        agent: Web5ManagedAgent;
        context?: string;
        id: string;
    }): Promise<boolean>;
    // (undocumented)
    findKey(options: {
        id: string;
        agent: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedKey | ManagedKeyPair | undefined>;
    // (undocumented)
    findKey(options: {
        alias: string;
        agent: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedKey | ManagedKeyPair | undefined>;
    // (undocumented)
    getKey(options: {
        agent: Web5ManagedAgent;
        context?: string;
        id: string;
    }): Promise<ManagedKey | ManagedKeyPair | undefined>;
    // (undocumented)
    importKey(options: {
        agent: Web5ManagedAgent;
        context?: string;
        key: ManagedKey | ManagedKeyPair;
    }): Promise<string>;
    // (undocumented)
    listKeys(options: {
        agent: Web5ManagedAgent;
        context?: string;
    }): Promise<(ManagedKey | ManagedKeyPair)[]>;
    // (undocumented)
    updateKey(options: {
        agent: Web5ManagedAgent;
        context?: string;
    } & Pick<ManagedKey, 'id' | 'alias' | 'metadata'>): Promise<boolean>;
}

// @public
export class KeyStoreMemory implements ManagedKeyStore<string, ManagedKey | ManagedKeyPair> {
    // (undocumented)
    deleteKey({ id }: {
        id: string;
    }): Promise<boolean>;
    // (undocumented)
    findKey(options: {
        id: string;
    }): Promise<ManagedKey | ManagedKeyPair | undefined>;
    // (undocumented)
    findKey(options: {
        alias: string;
    }): Promise<ManagedKey | ManagedKeyPair | undefined>;
    // (undocumented)
    getKey({ id }: {
        id: string;
    }): Promise<ManagedKey | ManagedKeyPair | undefined>;
    // (undocumented)
    importKey({ key }: {
        key: ManagedKey | ManagedKeyPair;
    }): Promise<string>;
    // (undocumented)
    listKeys(): Promise<(ManagedKey | ManagedKeyPair)[]>;
    // (undocumented)
    updateKey(options: Pick<ManagedKey, 'id' | 'alias' | 'metadata'>): Promise<boolean>;
}

// @public (undocumented)
export type KmsMap = {
    [name: string]: KeyManagementSystem;
};

// @public (undocumented)
export type KmsOptions = {
    agent?: Web5ManagedAgent;
    cryptoAlgorithms?: AlgorithmImplementations;
    keyStore?: ManagedKeyStore<string, ManagedKey | ManagedKeyPair>;
    kmsName: string;
    privateKeyStore?: ManagedKeyStore<string, ManagedPrivateKey>;
};

// @public (undocumented)
export class LocalKms implements KeyManagementSystem {
    constructor(options: KmsOptions);
    get agent(): Web5ManagedAgent;
    set agent(agent: Web5ManagedAgent);
    // (undocumented)
    decrypt(options: DecryptOptions): Promise<Uint8Array>;
    // (undocumented)
    deriveBits(options: DeriveBitsOptions): Promise<Uint8Array>;
    // (undocumented)
    encrypt(options: EncryptOptions): Promise<Uint8Array>;
    // (undocumented)
    generateKey<T extends GenerateKeyOptionTypes>(options: GenerateKeyOptions<T>): Promise<GenerateKeyType<T>>;
    // (undocumented)
    getKey(options: {
        keyRef: string;
    }): Promise<ManagedKey | ManagedKeyPair | undefined>;
    // (undocumented)
    importKey(options: PortableKeyPair): Promise<ManagedKeyPair>;
    // (undocumented)
    importKey(options: PortableKey): Promise<ManagedKey>;
    // (undocumented)
    sign(options: SignOptions): Promise<Uint8Array>;
    // (undocumented)
    updateKey(options: UpdateKeyOptions): Promise<boolean>;
    // (undocumented)
    verify(options: VerifyOptions): Promise<boolean>;
}

// @public (undocumented)
export interface ManagedDid extends PortableDid {
    alias?: string;
    method: string;
}

// @public (undocumented)
export interface ManagedDidStore {
    // (undocumented)
    deleteDid(options: {
        did: string;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<boolean>;
    // (undocumented)
    findDid(options: {
        did: string;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedDid | undefined>;
    // (undocumented)
    findDid(options: {
        alias: string;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedDid | undefined>;
    // (undocumented)
    getDid(options: {
        did: string;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedDid | undefined>;
    // (undocumented)
    importDid(options: {
        did: ManagedDid;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<void>;
    // (undocumented)
    listDids(options?: {
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedDid[]>;
}

// @public (undocumented)
export interface ManagedIdentity {
    // (undocumented)
    did: string;
    // (undocumented)
    name: string;
}

// @public (undocumented)
export interface ManagedIdentityStore {
    // (undocumented)
    deleteIdentity(options: {
        did: string;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<boolean>;
    // (undocumented)
    getIdentity(options: {
        did: string;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedIdentity | undefined>;
    // (undocumented)
    importIdentity(options: {
        identity: ManagedIdentity;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<void>;
    // (undocumented)
    listIdentities(options?: {
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedIdentity[]>;
}

// @public
export interface ManagedKey {
    algorithm: Web5Crypto.KeyAlgorithm | Web5Crypto.GenerateKeyOptions;
    alias?: string;
    extractable: boolean;
    id: string;
    kms: string;
    material?: Uint8Array;
    metadata?: KeyMetadata;
    spec?: string;
    state: KeyState;
    type: Web5Crypto.KeyType;
    usages: Web5Crypto.KeyUsage[];
}

// @public
export type ManagedKeyInfo = Omit<ManagedKey, 'material'>;

// @public (undocumented)
export type ManagedKeyOptions = Omit<ManagedKey, 'toJwk'>;

// @public
export interface ManagedKeyPair {
    privateKey: ManagedKey;
    publicKey: ManagedKey;
}

// @public
export interface ManagedKeyStore<K, V> {
    // (undocumented)
    deleteKey(options: {
        id: K;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<boolean>;
    // (undocumented)
    findKey(options: {
        id: K;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<V | undefined>;
    // (undocumented)
    findKey(options: {
        alias: K;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<V | undefined>;
    // (undocumented)
    getKey(options: {
        id: K;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<V | undefined>;
    // (undocumented)
    importKey(options: {
        key: Omit<V, 'id'>;
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<K>;
    // (undocumented)
    listKeys(options?: {
        agent?: Web5ManagedAgent;
        context?: string;
    }): Promise<V[]>;
    // (undocumented)
    updateKey(options: {
        id: K;
        agent?: Web5ManagedAgent;
        context?: string;
    } & Partial<V>): Promise<boolean>;
}

// @public (undocumented)
export function managedKeyToJwk({ key }: {
    key: RequireOnly<ManagedKey, 'algorithm' | 'extractable' | 'material' | 'type' | 'usages'>;
}): Promise<JsonWebKey_2>;

// @public
export interface ManagedPrivateKey {
    id: string;
    material: Uint8Array;
    type: Web5Crypto.PrivateKeyType;
}

// @public (undocumented)
export function managedToCryptoKey({ key }: {
    key: RequireOnly<ManagedKey, 'algorithm' | 'extractable' | 'material' | 'type' | 'usages'>;
}): Web5Crypto.CryptoKey;

// @public (undocumented)
export function parseJson(text: string): object | null;

// @public (undocumented)
export type PortableKey = RequireOnly<ManagedKey, 'algorithm' | 'extractable' | 'type' | 'usages', 'id' | 'material' | 'state'> & {
    material: Uint8Array;
};

// @public (undocumented)
export interface PortableKeyPair {
    // (undocumented)
    privateKey: PortableKey;
    // (undocumented)
    publicKey: PortableKey;
}

// @public
export class PrivateKeyStoreDwn implements ManagedKeyStore<string, ManagedPrivateKey> {
    // (undocumented)
    deleteKey(options: {
        agent: Web5ManagedAgent;
        context?: string;
        id: string;
    }): Promise<boolean>;
    // (undocumented)
    findKey(): Promise<ManagedPrivateKey | undefined>;
    // (undocumented)
    getKey(options: {
        agent: Web5ManagedAgent;
        context?: string;
        id: string;
    }): Promise<ManagedPrivateKey | undefined>;
    // (undocumented)
    importKey(options: {
        agent: Web5ManagedAgent;
        context?: string;
        key: Omit<ManagedPrivateKey, 'id'>;
    }): Promise<string>;
    // (undocumented)
    listKeys(options: {
        agent: Web5ManagedAgent;
        context?: string;
    }): Promise<ManagedPrivateKey[]>;
    // (undocumented)
    updateKey(): Promise<boolean>;
}

// @public
export class PrivateKeyStoreMemory implements ManagedKeyStore<string, ManagedPrivateKey> {
    // (undocumented)
    deleteKey({ id }: {
        id: string;
    }): Promise<boolean>;
    // (undocumented)
    findKey(): Promise<ManagedPrivateKey | undefined>;
    // (undocumented)
    getKey({ id }: {
        id: string;
    }): Promise<ManagedPrivateKey | undefined>;
    // (undocumented)
    importKey({ key }: {
        key: Omit<ManagedPrivateKey, 'id'>;
    }): Promise<string>;
    // (undocumented)
    listKeys(): Promise<ManagedPrivateKey[]>;
    // (undocumented)
    updateKey(): Promise<boolean>;
}

// @public
export type ProcessDwnRequest = DwnRequest & {
    dataStream?: Blob | ReadableStream | Readable;
    messageOptions: unknown;
    store?: boolean;
};

// @public
export type ProcessVcRequest = {};

// @public (undocumented)
export type RecordsWriteAuthorizationPayload = {
    recordId: string;
    contextId?: string;
    descriptorCid: string;
    attestationCid?: string;
    encryptionCid?: string;
};

// @public (undocumented)
export type RpcStatus = {
    code: number;
    message: string;
};

// @public (undocumented)
export type SendDwnRequest = DwnRequest & (ProcessDwnRequest | {
    messageCid: string;
});

// @public
export type SendDwnResponse = DwnRpcResponse;

// @public (undocumented)
export type SendVcRequest = {};

// @public (undocumented)
export interface SerializableDwnMessage {
    // (undocumented)
    toJSON(): string;
}

// @public (undocumented)
export type SignatureEntry = {
    protected: string;
    signature: string;
};

// @public
export type SignOptions = {
    algorithm: Web5Crypto.AlgorithmIdentifier | Web5Crypto.EcdsaOptions | Web5Crypto.EdDsaOptions;
    data: Uint8Array;
    keyRef: string;
};

// @public (undocumented)
export interface SyncManager {
    // (undocumented)
    agent: Web5ManagedAgent;
    // (undocumented)
    pull(): Promise<void>;
    // (undocumented)
    push(): Promise<void>;
    // (undocumented)
    registerIdentity(options: {
        did: string;
    }): Promise<void>;
    // (undocumented)
    startSync(options: {
        interval: number;
    }): Promise<void>;
    // (undocumented)
    stopSync(): void;
}

// @public (undocumented)
export class SyncManagerLevel implements SyncManager {
    constructor(options?: SyncManagerOptions);
    get agent(): Web5ManagedAgent;
    set agent(agent: Web5ManagedAgent);
    // (undocumented)
    clear(): Promise<void>;
    // (undocumented)
    pull(): Promise<void>;
    // (undocumented)
    push(): Promise<void>;
    // (undocumented)
    registerIdentity(options: {
        did: string;
    }): Promise<void>;
    // (undocumented)
    startSync(options: {
        interval: number;
    }): Promise<void>;
    // (undocumented)
    stopSync(): void;
}

// @public (undocumented)
export type SyncManagerOptions = {
    agent?: Web5ManagedAgent;
    dataPath?: string;
    db?: Level;
};

// @public (undocumented)
export class TestManagedAgent {
    // Warning: (ae-forgotten-export) The symbol "TestManagedAgentOptions" needs to be exported by the entry point index.d.ts
    constructor(options: TestManagedAgentOptions);
    // (undocumented)
    agent: Web5ManagedAgent;
    // (undocumented)
    agentStores: 'dwn' | 'memory';
    // (undocumented)
    appDataStore: KeyValueStore<string, any>;
    // (undocumented)
    clearStorage(): Promise<void>;
    // (undocumented)
    closeStorage(): Promise<void>;
    // Warning: (ae-forgotten-export) The symbol "CreateMethodOptions" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    static create(options: CreateMethodOptions): Promise<TestManagedAgent>;
    // (undocumented)
    createAgentDid(): Promise<void>;
    // (undocumented)
    createIdentity(options: {
        keyAlgorithm?: 'Ed25519' | 'secp256k1';
        testDwnUrls: string[];
    }): Promise<{
        did: PortableDid;
        identity: ManagedIdentity;
    }>;
    // (undocumented)
    didResolverCache: DidResolverCache;
    // (undocumented)
    dwn: Dwn;
    // (undocumented)
    dwnDataStore: DataStoreLevel;
    // (undocumented)
    dwnEventLog: EventLogLevel;
    // (undocumented)
    dwnMessageStore: MessageStoreLevel;
    // (undocumented)
    syncStore: Level;
}

// @public
export type UpdateKeyOptions = {
    alias?: string;
    keyRef: string;
    metadata?: KeyMetadata;
};

// @public (undocumented)
export type VcResponse = {};

// @public
export type VerifyOptions = {
    algorithm: Web5Crypto.AlgorithmIdentifier | Web5Crypto.EcdsaOptions | Web5Crypto.EdDsaOptions;
    data: Uint8Array;
    keyRef: string;
    signature: Uint8Array;
};

// @public
export interface Web5Agent {
    // (undocumented)
    agentDid: string | undefined;
    // (undocumented)
    processDidRequest(request: DidRequest): Promise<DidResponse>;
    // (undocumented)
    processDwnRequest(request: ProcessDwnRequest): Promise<DwnResponse>;
    // (undocumented)
    processVcRequest(request: ProcessVcRequest): Promise<VcResponse>;
    // (undocumented)
    sendDidRequest(request: DidRequest): Promise<DidResponse>;
    // (undocumented)
    sendDwnRequest(request: SendDwnRequest): Promise<DwnResponse>;
    // (undocumented)
    sendVcRequest(request: SendVcRequest): Promise<VcResponse>;
}

// @public (undocumented)
export interface Web5ManagedAgent extends Web5Agent {
    // (undocumented)
    appData: AppDataStore;
    // (undocumented)
    didManager: DidManager;
    // (undocumented)
    didResolver: DidResolver;
    // (undocumented)
    dwnManager: DwnManager;
    // (undocumented)
    firstLaunch(): Promise<boolean>;
    // (undocumented)
    identityManager: IdentityManager;
    // (undocumented)
    initialize(options: {
        passphrase: string;
    }): Promise<void>;
    // (undocumented)
    keyManager: KeyManager;
    // (undocumented)
    rpcClient: Web5Rpc;
    // (undocumented)
    start(options: {
        passphrase: string;
    }): Promise<void>;
    // (undocumented)
    syncManager: SyncManager;
}

// @public (undocumented)
export interface Web5Rpc extends DwnRpc, DidRpc {
}

// @public
export class Web5RpcClient implements Web5Rpc {
    constructor(clients?: Web5Rpc[]);
    // (undocumented)
    sendDidRequest(request: DidRpcRequest): Promise<DidRpcResponse>;
    // (undocumented)
    sendDwnRequest(request: DwnRpcRequest): Promise<DwnRpcResponse>;
    // (undocumented)
    get transportProtocols(): string[];
}

// @public (undocumented)
export function webReadableToIsomorphicNodeReadable(webReadable: ReadableStream<any>): ReadableWebToNodeStream;

// (No @packageDocumentation comment for this package)

```

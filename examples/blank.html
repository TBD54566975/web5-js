<html>

<body>
  <h1>Blank</h1>
</body>
<script>
  // Notify the calling window that this window is ready to receive messages.
  console.log('sending ready message back to calling window');

  window.opener.postMessage('ready', '*');
  setTimeout(() => {
    console.log('sending again')
    window.opener.postMessage('whatever', '*');
  }, 2000);

  window.addEventListener('message', event => {
    if (event.data === 'ready') {
      // Signal that the other window is ready.
      window.opener.postMessage('ready', '*');
    }
  });
</script>

</html>